function setup(){var e,t=new XMLHttpRequest,a="Sz9c8RcYBdqPuKLYgN2VVk3miQLED7yOjajXAzut",n="https://api.nasa.gov/planetary/apod?date="+date0+"&api_key="+a;t.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var t=JSON.parse(this.responseText);e=t,document.getElementById("titelDate").innerHTML=e.date+": "+e.title,"video"!=e.media_type?hdPic?("4"==e.hdurl.slice(-1)&&(e.hdurl=e.url),document.getElementById("dailyPic").innerHTML="<a href="+e.hdurl+"><img src="+e.hdurl+"  /></a><figcaption>&copy; "+e.copyright+"</figcaption>"):document.getElementById("dailyPic").innerHTML="<a href="+e.url+"><img src="+e.url+"  /></a><figcaption>&copy; "+e.copyright+"</figcaption>":document.getElementById("dailyPic").innerHTML="<iframe src="+e.url+"  /><figcaption>&copy; "+e.copyright+"</figcaption>",document.getElementById("explanationP").innerHTML=e.explanation}},t.open("GET",n,!0),t.send();var i,d=new XMLHttpRequest,o="https://api.nasa.gov/planetary/apod?date="+date1+"&api_key="+a;d.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);"video"!=(i=e).media_type?document.getElementById("day1").innerHTML="<img src="+i.url+"  /><figcaption class='day1'>"+i.date+"</figcaption>":document.getElementById("day1").innerHTML="<img src='http://www.haloeastereggs.net/sites/all/files/play-button.png'/><figcaption class='day1'>"+i.date+"</figcaption>"}},d.open("GET",o,!0),d.send();var c,s=new XMLHttpRequest,r="https://api.nasa.gov/planetary/apod?date="+date2+"&api_key="+a;s.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);"video"!=(c=e).media_type?document.getElementById("day2").innerHTML="<img src="+c.url+"  /><figcaption>"+c.date+"</figcaption>":document.getElementById("day2").innerHTML="<img src='http://www.haloeastereggs.net/sites/all/files/play-button.png' /><figcaption>"+c.date+"</figcaption>"}},s.open("GET",r,!0),s.send();var p,g=new XMLHttpRequest,l="https://api.nasa.gov/planetary/apod?date="+date3+"&api_key="+a;g.onreadystatechange=function(){if(4==this.readyState&&200==this.status){var e=JSON.parse(this.responseText);"video"!=(p=e).media_type?document.getElementById("day3").innerHTML="<img src="+p.url+"  /><figcaption>"+p.date+"</figcaption>":document.getElementById("day3").innerHTML="<img src='http://www.haloeastereggs.net/sites/all/files/play-button.png' /><figcaption>"+p.date+"</figcaption>"}},g.open("GET",l,!0),g.send()}function getDates(e){var t=e.getDate(),a=e.getMonth()+1;if(1==a||3==a||5==a||7==a||8==a||10==a||12==a)n="True";else var n="False";var i=e.getFullYear();t<10&&(t="0"+t),a<10&&(a="0"+a),e=i+"-"+a+"-"+t,date0=i+"-"+a+"-"+t,"01"==t||"1"==t?(t=n?"03"==a?parseInt(i)%4!=0?"28":"29":"30":"31","01"==a?(a="12",i-=1):a-=1):t-=1,date1=i+"-"+a+"-"+t,"01"==t||"1"==t?(t=n?"03"==a?parseInt(i)%4!=0?"28":"29":"30":"31","01"==a?(a="12",i-=1):a-=1):t-=1,date2=i+"-"+a+"-"+t,"01"==t||"1"==t?(t=n?"03"==a?parseInt(i)%4!=0?"28":"29":"30":"31","01"==a?(a="12",i-=1):a-=1):t-=1,date3=i+"-"+a+"-"+t,setup()}function searchDate(){var e=document.querySelector(".input__text").value;""!=e&&(date0=e,location.href="#HOME",convertDate(date0))}function viewDay(e){convertDate(date0=e)}function getYtThumbnail(e){return"https://img.youtube.com/vi/"+e.substring(30,41)+"/0.jpg"}function convertDate(e){today=new Date(e);var t=new Date,a=new Date("1995-06-16");today>t||today<a?alert("Date has to be between "+a.getDate()+"-"+a.getMonth()+"-"+a.getFullYear()+" and "+t.getDate()+"-"+t.getMonth()+"-"+t.getFullYear()):getDates(today)}function toggleHD(){"HD"==hdPic?(hdPic="NoHD",setup()):setup()}$(document).ready(function(){$("a").on("click",function(e){if(""!==this.hash){e.preventDefault();var t=this.hash;$("html, body").animate({scrollTop:$(t).offset().top},800,function(){window.location.hash=t})}})});var today=new Date,date0,date1,date2,date3;getDates(today);var hdPic;$(function(){hdPic=$("#hdToggle").is(":checked"),$("#hdToggle").change(function(){hdPic=this.checked,setup()})}),window.onload=function(){document.getElementById("searchButton").addEventListener("click",function(){searchDate()}),document.getElementById("day1").addEventListener("click",function(){viewDay(date1)}),document.getElementById("day2").addEventListener("click",function(){viewDay(date2)}),document.getElementById("day3").addEventListener("click",function(){viewDay(date3)})};